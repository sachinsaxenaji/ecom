{% extends 'shop/basic.html' %}

    
    <title>{% block title%}Foundation | Welcome {% endblock %}</title>
   
    {% block css %}

  
    .col-md-3
    {
    float: left;
    margin-left:-1px;
    display: inline-block;
    padding-left: 0%;
    padding-right: 0%;
    padding-top: .8%;
    padding-bottom: .8%;
    width: 320px;
    height: 405px;
    font-size: medium;
    

   
    }
    .btn-primary {
      
      margin-left: 14px;
      width: 90px;
      height: 30px;
      font-size: 12px;
    
     
      }
      .btn-info{
      
        margin-left: 14px;
        width: 90px;
        height: 30px;
        font-size: 12px;
      
       
        }
        .btn-warning{
          margin-left: 86px;
        }
       
    .carousel-indicators .active {
    background-color: blue;
    }
    .col-md-3 img{
    width: 170px;
    height: 200px;
    
    }
    #card
    {
      width: 20.5rem;
      
    }
    #container{
      
    background-color: white;
    }
    #container h8:hover {

      text-decoration: underline;
      font-weight: bold;
      font-weight: 600;
  }

    body .carousel-indicator li{
    background-color: blue;
    }
    body .carousel-indicators{
    bottom: 0;
    }
    body .carousel-control-prev-icon,
    body .carousel-control-next-icon{
    background-color: #2f1e1f;
    width: 30px;
    height: 55px;
    }
    .carousel-control-prev,
    .carousel-control-next{
    font-weight: 700;
    top: auto;
    bottom: auto;
    padding-top: 222px;
    size: 700;
    width: 2%;
    }
    body .no-padding{
    padding-left: 0,
    padding-right: 0;
    }
    .carousel-item
    {
    <!-- background-color: #e9ecef; -->
    
    }
    .view_m {
     
    }
    
       
 <!-- #header {
    
    height: 400px;
    background-color: transparent;
  border: 1px solid #f1f1f1;
  
 
    } -->

    .testimonial-block-vertical {
     
      padding-right: 460px;
      padding-left: 160px;
    }
 
.testimonial-block-vertical-quote {
  background: rgba(23, 121, 186, 0.25);
  padding: 1rem;
  border-radius: 0;
  margin-bottom: 1.875rem;
  position: relative;
  padding-right: 200px;
}

.testimonial-block-vertical-quote p {
  margin-bottom: 0;
}

.testimonial-block-vertical-quote::after {
  content: '';
  bottom: -1.25rem;
  left: 2.25rem;
  width: 0px;
  height: 0px;
  border-style: solid;
  border-width: 1.25rem 1.125rem 0 1.125rem;
  border-color: rgba(23, 121, 186, 0.25) transparent transparent transparent;
  position: absolute;
  
}

.testimonial-block-vertical-person {
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  margin-left: 1.65rem;
  -webkit-align-items: center;
  -ms-flex-align: center;
  align-items: center;
}

.testimonial-block-vertical-avatar {
  border-radius: 50%;
  width: 60px;
  height: 60px;
}

.testimonial-block-vertical-name {
  text-transform: uppercase;
  font-weight: 600;
  margin-bottom: 0;
  margin-left: 0.65rem;
}

.testimonial-block-vertical-info {
  text-transform: uppercase;
  font-size: 14px;
  color: #8a8a8a;
  margin-bottom: 0;
  margin-left: 0.65rem;
}
.container{
  max-width: initial;
  padding-left: 0%,
  padding-right: 0%;
  
}

.row{
  max-width: 100%;
  padding-left: 0%,
  padding-right: 0%;
  width: initial;
  padding-right: 2dp;
    box-shadow: .125rem .125rem 0 rgba(.79,0,0,.079)!important;
    border: 1px solid #dee2e6!important;
}
.carousel-inner{
  max-width: 100%;
  
  padding-left: 0%,
  padding-right: 0%;
  width: initial;
}
.my-3{
  max-width: 100%;
  
  padding-left: 0%,
  padding-right: 0%;
  width: initial;
}
.product-card-price {
  color: darken($dark-gray,30%);
  display: inline-block;
  font-size: 0.85rem;
  font-weight: 600;
  margin-top: 0.8rem;
}
.product-card-sale {
  color: $medium-gray;
  display: inline-block;
  font-size: 0.85rem;
  margin-left: 0.3rem;
  margin-right: 5rem;
  text-decoration: line-through;
}
    {% endblock %}
    {% load static %}
    {% block header %}
  
    <!-- <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
      <ol class="carousel-indicators">
        <li data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"></li>
        <li data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"></li>
        <li data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"></li>
      </ol>
      <div class="carousel-inner" id = "carousel-inner">
        <div class="carousel-item active">
          <img src="{% static 'shop/images/slider.jpg'%}" class="d-block w-100" alt="{% static 'shop/images/slider1.jpg'%}">
          <div class="carousel-caption d-none d-md-block">
            <h5>First slide label</h5>
            <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="{% static 'shop/images/slider1.jpg'%}" class="d-block w-100" alt="{% static 'shop/images/slider2.jpg'%}">
          <div class="carousel-caption d-none d-md-block">
            <h5>Second slide label</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="{% static 'shop/images/slider2.jpg'%}" class="d-block w-100" alt="{% static 'shop/images/slider.jpg'%}">
          <div class="carousel-caption d-none d-md-block">
            <h5>Third slide label</h5>
            <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </a>
    </div> -->
  
    <div class="fullscreen-image-slider">
      <div class="orbit" role="region" aria-label="FullScreen Pictures" data-orbit>
        <ul class="orbit-container">
          <button class="orbit-previous">
            <span class="show-for-sr">Previous Slide</span>
            <span class="nav fa fa-chevron-left fa-3x"></span>
          </button>
          <button class="orbit-next">
            <span class="show-for-sr">Next Slide</span>
            <span class="nav fa fa-chevron-right fa-3x"></span>
          </button>
          <li class="is-active orbit-slide">
            <img class="orbit-image" src="{% static 'shop/images/slider.jpg'%}" alt="Space">
            <figcaption class="orbit-caption">
              <h1>Lorem ipsum dolor sit amet, <br>consectetur adipisicing elit.</h1>
            </figcaption>
          </li>
          <li class="orbit-slide">
            <img class="orbit-image" src="{% static 'shop/images/slider1.jpg'%}" alt="Space">
            <figcaption class="orbit-caption">
              <h1>Lorem ipsum dolor sit amet, <br>consectetur adipisicing elit.</h1>
            </figcaption>
          </li>
          <li class="orbit-slide">
            <img class="orbit-image" src="{% static 'shop/images/slider2.jpg'%}" alt="Space">
            <figcaption class="orbit-caption">
              <h1>Lorem ipsum dolor sit amet, <br>consectetur adipisicing elit.</h1>
            </figcaption>
          </li>
        </ul>
      </div>
    </div>
    
    
    
    
    
    {% endblock %}
    {% block body %}
    <div class="top-bar foundation-5-top-bar">
        <div class="top-bar-title">
          <span data-responsive-toggle="responsive-menu" data-hide-for="medium">
            <button class="menu-icon" type="button" data-toggle></button>
          </span>
          <strong>Categories</strong>
        </div>
        <div id="responsive-menu">
          <div class="top-bar-left">
            <ul class="dropdown vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown" data-auto-height="true" data-animate-height="true">
              <li>
                <a href="#">Building Material</a>
                <ul class="menu">
                  <li><a href="#">Cement</a></li>
                  <li><a href="#">TMT</a></li>
                  <li><a href="#">Steel Bars</a></li>
                  <li><a href="#">Bricks</a></li>
               
                </ul>
              </li>
              <li><a href="#">Plumbing</a>
                <ul class="menu">
                    <li><a href="#">Cement</a></li>
                    <li><a href="#">TMT</a></li>
                    <li><a href="#">Steel Bars</a></li>
                    <li><a href="#">Bricks</a></li>
                 
                  </ul></li>
              <li><a href="#">Electricals</a>
                <ul class="menu">
                    <li><a href="#">Cement</a></li>
                    <li><a href="#">TMT</a></li>
                 
                 
                  </ul></li>
            </ul>
          </div>
         
        </div>
      </div>

    <!-- <div class="brands" id = "brands">

    <h1>Our top brands</h1>

    <i class="fa fa-behance-square" style="font-size:48px;color:aquamarine"></i>
<i class="fa fa-apple" style="font-size:48px;color:blueviolet"></i>
<i class="fa fa-amazon" style="font-size:48px;color:green"></i>
<i class="fa fa-500px" style="font-size:48px;color:red"></i>
<br>
</div> -->

    <!-- <div class="row column text-center">
      <h2>Our Newest Products</h2>
      <hr>
    </div>

    <div class="row small-up-2 large-up-4">
      {% for i in product %}
    <div class="column">
      <img class="thumbnail" src='/media/{{i.image}}'>
      <h5 class="card-title" id="namepr{{i.id}}">{{i.product_name}}</h5>
      <p class="card-text">{{i.desc|slice:"0:53"}}...</p>
      <h6 class="card-title" >Price : <span id="pricepr{{i.id}}">{{i.price}}</span></h6>
      
      <span id="divpr{{i.id}}" class="divpr">
          <button id="pr{{i.id}}" class="btn button expanded cart">Add To Cart</button>
      </span>
      <a href="/shop/products/{{i.id}}"><button id="qv{{i.id}}" class="button expanded">QuickView</button></a>
  
    </div>
    {% endfor %}
  </div> -->
<!--   
  <div  class="list-group" > 

				<a href="?category={{product.0.category}}" class="list-group-item list-group-item-action">All Products</a>

				{% for product, range, nSlides in allProds %}
				<a method='get'href="?category={{product.0.category}}"   action="/shop/product_cat/"
					class="list-group-item list-group-item-action">{{product.0.category}} </a>
				{% endfor %}
			</div> -->

  <div class="container" id = "container">
   
   
    <h5 class="my-4"  > {{product.0.category}} - Recommended Items</h5>
   
    <div class="row">
      
      
                <div class="carousel-item active" id = "carousel-item">
                  
                    {% for i in product %}
                    <div class="col-xs-3 col-sm-3 col-md-3" id = "col-md-3">
                        <div class="card align-items-center"  id = "card">
                            <img src='/media/{{i.image}}' class="card-img-top" alt="...">
                            <div class="card-body" id = "card-body">
                                <h5 class="card-title"  style="text-align:center;" id="namepr{{i.id}}">{{i.product_name}}</h5>
                                <p class="card-text">{{i.desc|slice:"0:53"}}...</p>
                                <h6 class="product-card-price" >Price : <span id="pricepr{{i.id}}">{{i.price}}</span></h6>
                               <h6 class="product-card-sale" >Price : <span id="pricepr{{i.id}}">{{i.price}}</span></h6>
                               <span id="divpr{{i.id}}" class="divpr">
                               <button id="pr{{i.id}}" class="btn btn-primary cart" >Add To Cart</button></span>
                                <span id="divpr{{i.id}}" class="divpr">
                                <a href="/shop/products/{{i.id}}" ><button id="qv{{i.id}}" class="btn btn-info cart" >QuickView</button></a>
                               
                                
                            </div>
                        </div>
                    </div>
                 
                    {% endfor %}
                </div>
            </div>
        </div>
       
        <a class="carousel-control-prev" id = "contarousel-rol-prev" href="#demo{{forloop.counter}}" data-slide="prev">
            <span class="carousel-control-prev-icon" id = "carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" id = "carousel-control-next" href="#demo{{forloop.counter}}" data-slide="next">
            <span class="carousel-control-next-icon" id = "carousel-control-next-icon"></span>
        </a>
    </div>
  
</div>

   
    

    <div class="callout large secondary">
      <div class="row">
        <div class="large-4 columns">
          <h5>Vivamus Hendrerit Arcu Sed Erat Molestie</h5>
          <p>Curabitur vulputate, ligula lacinia scelerisque tempor, lacus lacus ornare ante, ac egestas est urna sit amet arcu. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed molestie augue sit.Curabitur vulputate, ligula lacinia scelerisque tempor, lacus lacus ornare ante, ac egestas est urna sit amet arcu. Class aptent taciti sociosqu a</p>
        </div>
        <div class="large-3 large-offset-2 columns">
          <ul class="menu vertical" >
              <li>
            <iframe height="280" width="600"  
            src="https://www.youtube.com/embed/il_t1WVLNxk" id="yotube"> 
            </iframe> 
        </li>
          </ul>
        </div>
     
      </div>
    </div>

  
  {% endblock %}
    {% block js %}
    <script>
      // Find out the cart items from localStorage
      if (localStorage.getItem('cart') == null) {
          var cart = {};
      } else {
          cart = JSON.parse(localStorage.getItem('cart'));
          updateCart(cart);
      }
      // If the add to cart button is clicked, add/increment the item
      //$('.cart').click(function() {
      $('.divpr').on('click', 'button.cart', function() {
          var idstr = this.id.toString();
          if (cart[idstr] != undefined) {
              qty = cart[idstr][0] + 1;
              
              
          } else {
              qty = 1;
              name = document.getElementById('name'+idstr).innerHTML
              price = document.getElementById('price'+idstr).innerHTML
              cart[idstr] = [qty, name, parseInt(price)];
      
          }
          var btn = document.getElementsByClassName('btn-info');
          for (var k = 0; k < btn.length; k++) {
            btn[k].style.visibility = 'hidden';
              }
          updateCart(cart);
      });
      //Add Popover to cart
      $('#popcart').popover();
      updatePopover(cart);
      
      function updatePopover(cart) {
          console.log('We are inside updatePopover');
          var popStr = "";
          popStr = popStr + "<h5> Cart for your items in my shopping cart </h5><div class='mx-2 my-2'>";
          var i = 1;
          for (var item in cart) {
              popStr = popStr + "<b>" + i + "</b>. ";
              popStr = popStr + document.getElementById('name' + item).innerHTML.slice(0, 19) + "... Qty: " + cart[item][0] + '<br>';
              i = i + 1;
          }
          popStr = popStr + "</div> <a href='/shop/checkout'><button class='btn btn-primary' id ='checkout'>Checkout</button></a> <button class='btn btn-primary' onclick='clearCart()' id ='clearCart'>Clear Cart</button>     "
          console.log(popStr);
          document.getElementById('popcart').setAttribute('data-content', popStr);
          // $('#popcart').popover('show');
      }
      
      function clearCart() {
          cart = JSON.parse(localStorage.getItem('cart'));
          for (var item in cart) {
              document.getElementById('div' + item).innerHTML = '<button id="' + item + '" class="btn btn-primary cart">Add To Cart</button>'
          }
          localStorage.clear();
          cart = {};
          updateCart(cart);
      }
      
      function updateCart(cart) {
          var sum = 0;
          for (var item in cart) {
              sum = sum + cart[item][0];
              document.getElementById('div' + item).innerHTML = "<button id='minus"  + item + "' class='btn btn-warning minus'>-</button> <span id='val" + item + "''>" + cart[item][0] + "</span> <button id='plus" + item + "' class='btn btn-success plus'> + </button>";
          }
          localStorage.setItem('cart', JSON.stringify(cart));
          document.getElementById('cart').innerHTML = sum;
          console.log(cart);
          updatePopover(cart);
      }
      // If plus or minus button is clicked, change the cart as well as the display value
      $('.divpr').on("click", "button.minus", function() {
          a = this.id.slice(7, );
          cart['pr' + a][0] = cart['pr' + a][0] - 1;
          cart['pr' + a][0] = Math.max(0, cart['pr' + a][0]);
          document.getElementById('valpr' + a).innerHTML = cart['pr' + a][0];
          if (cart['pr'+ a][0]==0)
          {
              document.getElementById('divpr' + a).innerHTML = '<button id="pr'+a+'" class=" btn btn-primary cart">Add To Cart</button>'
              delete cart['pr' + a];
              var btn = document.getElementsByClassName('btn-info');
          for (var k = 0; k < btn.length; k++) {
            btn[k].style.visibility = 'visible';
              }
          }
          else{
      
              document.getElementById('valpr' + a).innerHTML = cart['pr' + a][0];
          }
          updateCart(cart);
      });
      $('.divpr').on("click", "button.plus", function() {
          a = this.id.slice(6, );
          cart['pr' + a][0] = cart['pr' + a][0] + 1;
          document.getElementById('valpr' + a).innerHTML = cart['pr' + a][0];
      
          updateCart(cart);
      });
  
  //     $('img').hover(function (){
  //     $(this).css("background-color", "lightgray");
     
  // 	},function(){
  // 		$(this).css("background-color", "transparent");
     
  // 	}
  //   );
  //   $("p").hover(function(){
  //   $(this).css("background-color", "yellow");
  //   }, function(){
  //   $(this).css("background-color", "pink");
  // });
  
  //   $(document).ready(function() {
  //     $('.carousel-inner').carousel({
  //       interval: 1200
  //     })
  //   });
  //   $(document).ready(function() { 
  //   $('#carousel-inner').carousel({ interval: 3000, cycle: true });
  // }); 
  
      </script>
    {% endblock %}